{"version":3,"sources":["webpack:///./src/app/pages/expert/request/request.module.ts","webpack:///./src/app/pages/expert/request/request.page.html","webpack:///./src/app/pages/expert/request/request.page.scss","webpack:///./src/app/pages/expert/request/request.page.ts"],"names":[],"mappings":"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","file":"expert-request-request-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RequestPage } from './request.page';\nimport { PipesModule } from 'src/app/pipes/pipes.module';\nimport { ModalModule } from '../../modal/modal.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RequestPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PipesModule,\n    ModalModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [\n    RequestPage,\n  ]\n})\nexport class RequestPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button fill=\\\"clear\\\" (click)=\\\"onClickNavBack()\\\">\\n        <ion-icon name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>Requests</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"onClickFilter()\\\">\\n        <ion-icon src=\\\"assets/icons/icon-custom-filter.svg\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div id=\\\"request-list\\\">\\n    <div *ngFor=\\\"let request of arrRequests; let i = index;\\\" class=\\\"request-item\\\" (click)=\\\"onClickRequest(i)\\\">\\n      <div class=\\\"request-item-header\\\">\\n        <div>\\n          <span>\\n            {{arrStatus[request.status]}}\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\\\"request-item-body\\\">\\n        <p><b>Requested Date:</b> {{request.createdAt | doctime: false}}</p>\\n        <p><b>Category:</b> {{arrCategories[request.category]}}</p>\\n        <p><b>Requestor:</b> {{request.user.fname + \\\" \\\" + request.user.lname}}</p>\\n      </div>\\n      <div class=\\\"request-item-footer\\\">\\n        <div>\\n          <span (click)=\\\"onClickViewDetails(request)\\\">View Details</span>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</ion-content>\\n<ion-footer>\\n  <ion-toolbar (click)=\\\"onClickReviewedCases()\\\">\\n    <ion-title>Reviewd Cases</ion-title>\\n  </ion-toolbar>\\n</ion-footer>\\n\"","module.exports = \"ion-footer ion-title {\\n  text-align: center; }\\n\\n#request-list {\\n  margin: 16px; }\\n\\nion-list {\\n  padding-left: 40px; }\\n\\nion-list div p {\\n    margin: 2px 0;\\n    font-size: .8em; }\\n\\n.request-item {\\n  box-shadow: 0 2px 12px #dcdcdc;\\n  margin-bottom: 2vh;\\n  background-color: white;\\n  border-radius: 4px;\\n  cursor: pointer; }\\n\\n.request-item-header {\\n  padding: 16px;\\n  background-color: #eaeaea; }\\n\\n.request-item-body {\\n  padding: 16px; }\\n\\n.request-item-body p {\\n    margin: 8px 0; }\\n\\n.request-item-footer {\\n  padding: 0 16px 16px;\\n  text-align: right; }\\n\\n.request-item-footer div span {\\n    padding: 4px 12px;\\n    background-color: #2b7fea;\\n    border-radius: 4px;\\n    font-size: .8em;\\n    color: white;\\n    box-shadow: 0 2px 4px #888888;\\n    margin-left: 16px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL0RhdGExL1dvcmtzcGFjZS9pb25pYy92ZXJpZG9jL3NyYy9hcHAvcGFnZXMvZXhwZXJ0L3JlcXVlc3QvcmVxdWVzdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFUSxrQkFBa0IsRUFBQTs7QUFJMUI7RUFDSSxZQUFZLEVBQUE7O0FBSWhCO0VBQ0ksa0JBQWtCLEVBQUE7O0FBRHRCO0lBSVksYUFBYTtJQUNiLGVBQWUsRUFBQTs7QUFLM0I7RUFDSSw4QkFBOEI7RUFDOUIsa0JBQWtCO0VBQ2xCLHVCQUF1QjtFQUN2QixrQkFBa0I7RUFDbEIsZUFBZSxFQUFBOztBQUduQjtFQUNJLGFBQWE7RUFDYix5QkFBeUIsRUFBQTs7QUFHN0I7RUFDSSxhQUFhLEVBQUE7O0FBRGpCO0lBR1EsYUFBYSxFQUFBOztBQUlyQjtFQUNJLG9CQUFvQjtFQUNwQixpQkFBaUIsRUFBQTs7QUFGckI7SUFLWSxpQkFBaUI7SUFDakIseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsWUFBWTtJQUNaLDZCQUE2QjtJQUM3QixpQkFBaUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2V4cGVydC9yZXF1ZXN0L3JlcXVlc3QucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWZvb3RlciB7XG4gICAgaW9uLXRpdGxlIHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbn1cblxuI3JlcXVlc3QtbGlzdCB7XG4gICAgbWFyZ2luOiAxNnB4O1xufVxuXG5cbmlvbi1saXN0IHtcbiAgICBwYWRkaW5nLWxlZnQ6IDQwcHg7XG4gICAgZGl2IHtcbiAgICAgICAgcCB7XG4gICAgICAgICAgICBtYXJnaW46IDJweCAwO1xuICAgICAgICAgICAgZm9udC1zaXplOiAuOGVtO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4ucmVxdWVzdC1pdGVtIHtcbiAgICBib3gtc2hhZG93OiAwIDJweCAxMnB4ICNkY2RjZGM7XG4gICAgbWFyZ2luLWJvdHRvbTogMnZoO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5yZXF1ZXN0LWl0ZW0taGVhZGVyIHtcbiAgICBwYWRkaW5nOiAxNnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlYWVhZWE7XG59XG5cbi5yZXF1ZXN0LWl0ZW0tYm9keSB7XG4gICAgcGFkZGluZzogMTZweDtcbiAgICBwIHtcbiAgICAgICAgbWFyZ2luOiA4cHggMDtcbiAgICB9XG59XG5cbi5yZXF1ZXN0LWl0ZW0tZm9vdGVyIHtcbiAgICBwYWRkaW5nOiAwIDE2cHggMTZweDtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICBkaXYge1xuICAgICAgICBzcGFuIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDRweCAxMnB4O1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzJiN2ZlYTtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogLjhlbTtcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCAjODg4ODg4O1xuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDE2cHg7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { NavController, LoadingController, Platform, PopoverController, ModalController } from '@ionic/angular';\nimport { ApiService } from 'src/app/services/api/api.service';\nimport { saveAs } from 'file-saver';\nimport { FileTransfer, FileTransferObject } from '@ionic-native/file-transfer/ngx';\nimport { File } from '@ionic-native/file/ngx';\nimport { SERVERASSETS, CATEGORIES, STATUS } from '../../constants';\nimport { FilterPage } from '../../popover/filter/filter.page';\nimport { ToastService } from 'src/app/services/toast/toast.service';\nimport { ExpertCommentPage } from '../../modal/expert-comment/expert-comment.page';\n\n@Component({\n  selector: 'app-request',\n  templateUrl: './request.page.html',\n  styleUrls: ['./request.page.scss'],\n})\nexport class RequestPage implements OnInit {\n\n  private uid = \"\";\n  private objUserInfo = null;\n  private arrRequests = [];\n  private arrFilterOpts = [\n    \"Category\",\n    \"Date\",\n    \"Requestor First Name\",\n    \"Requestor Last Name\"\n  ];\n  private arrCategories = CATEGORIES;\n  private arrStatus = STATUS;\n\n  constructor(\n    private navCtrl: NavController,\n    private apiService: ApiService,\n    private loadingCtrl: LoadingController,\n    private platform: Platform,\n    private file: File,\n    private transfer: FileTransfer,\n    private popOver: PopoverController,\n    private toastService: ToastService,\n    private modalCtrl: ModalController\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.initPage();\n  }\n\n  /**\n   * Init Page when it's loaded\n   */\n  async initPage() {\n    const requestLoader = await this.loadingCtrl.create({\n      message: \"Loading...\"\n    });\n    await requestLoader.present();\n\n    this.uid = localStorage.getItem(\"uid\");\n\n    try {\n\n      if(localStorage.getItem(\"isLoggedIn\")) {\n        await this.getUserInfo();\n      }\n\n      this.apiService.getAllRequests()\n        .subscribe((res: any) => {\n          this.arrRequests = [];\n          if(res.data) {\n            console.log(res.data);\n            for(let i = 0; i < res.data.length; i++) {\n              if(res.data[i].status == 1 && (res.data[i].expert == this.uid || !res.data[i].expert)) {\n                // if(this.objUserInfo && (this.objUserInfo.category.toString() && Number(res.data[i].category))) {\n                if(this.objUserInfo.category == res.data[i].category.toString()) {\n                  this.arrRequests.push({...res.data[i], expanded: false, expandattachment: false});\n                }\n                // }\n              }\n            }\n          }\n          console.log(this.arrRequests);\n          requestLoader.dismiss();\n        })\n    } catch(err) {\n      console.log(err);\n      requestLoader.dismiss();\n    }\n  }\n\n  async getUserInfo() {\n    const userInfoResult: any = await this.apiService.getUser(localStorage.getItem(\"uid\")).toPromise();\n    this.objUserInfo = userInfoResult.user;\n    console.log(this.objUserInfo);\n  }\n\n  onClickViewDetails(objRequest) {\n    this.navCtrl.navigateForward('/request-detail/' + objRequest._id + \"/1\");\n  }\n\n  /**\n   * Show Filter Popover\n   */\n  async onClickFilter() {\n    const filterPopover = await this.popOver.create({\n      component: FilterPage,\n      componentProps: {\n        \"filterOpts\": this.arrFilterOpts\n      },\n      event\n    });\n    await filterPopover.present();\n    filterPopover.onDidDismiss()\n      .then((data: any) => {\n        // console.log(data);\n        this.filterRequests(data.data);\n      });\n  }\n\n  /**\n   * Assign Request to currrent Expert\n   * @param index array arrRequests index\n   */\n  async onClickAssignRequest(evt, index) {\n    evt.stopPropagation();\n    const assignLoader = await this.loadingCtrl.create({\n      message: \"Please wait...\"\n    });\n    await assignLoader.present();\n    const objAssign = {\n      requestId: this.arrRequests[index]._id, \n      expertId: localStorage.getItem(\"uid\")\n    };\n    this.apiService.requestSetExpert(objAssign)\n      .subscribe(() => {\n        this.arrRequests[index].expert = this.uid;\n        assignLoader.dismiss();\n        this.toastService.showToast(\"Request is accepted!\");\n      }, error => {\n        console.log(error);\n        assignLoader.dismiss();\n        this.toastService.showToast(\"Operation failed!\");\n      })\n  }\n\n  /**\n   * Filter Requests by selected option\n   * @param filterOpt Filter option as array Index\n   */\n  filterRequests(filterOpt) {\n    if(filterOpt == 0) {\n      this.arrRequests.sort((a, b) => a.category - b.category);\n    } else if(filterOpt == 1) {\n      this.arrRequests.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n    } else if(filterOpt == 2) {\n      this.arrRequests.sort((a, b) => a.user.fname - b.user.fname);\n    } else {\n      this.arrRequests.sort((a, b) => a.user.lname - b.user.lname);\n    }\n  }\n\n  onClickRequest(index) {\n    this.arrRequests[index].expanded = !this.arrRequests[index].expanded;\n  }\n\n  /**\n   * Toggle to view attachments\n   * @param i array index of arrRequests\n   */\n  onToggleViewAttachment(evt, i) {\n    evt.stopPropagation();\n    this.arrRequests[i].expandattachment = !this.arrRequests[i].expandattachment;\n  }\n\n  /**\n   * Download attachment file\n   * Check platform, so if platform is mobile, then, use cordova plugin\n   * if platform is not mobile, then, use file-saver.js\n   * @param filename the name of file to download\n   */\n  async onClickAttachments(evt, filename) {\n    evt.stopPropagation();\n    let isMobile = this.platform.is(\"mobile\");\n    if(isMobile) {\n      const fileTransfer: FileTransferObject = this.transfer.create();\n      try {\n        await fileTransfer.download(SERVERASSETS + filename, this.file.externalRootDirectory + 'Download/' + filename);\n      } catch(err) {\n        console.log(err);\n      }\n    } else {\n      this.apiService.downloadFile(filename)\n      .subscribe((data) => {\n        console.log(data);\n        saveAs(data, filename);\n      }, error => {\n        console.log(error);\n      })\n    }\n  }\n\n  /**\n   * Set request's status as \"Provide Input\"\n   * @param index arrRequestIndex: Number\n   */\n  async onClickProvideInput(evt, index) {\n    evt.stopPropagation();\n    const updateStatusLoader = await this.loadingCtrl.create({\n      message: \"Please wait...\"\n    });\n    await updateStatusLoader.present();\n    try {\n      let trackRequestResult: any = await this.apiService.saveRequestStatus(2).toPromise();\n      await this.apiService.updateRequestStatus(this.arrRequests[index]._id, 2, trackRequestResult.data._id).toPromise();\n      updateStatusLoader.dismiss();\n      this.toastService.showToast(\"Success!\");\n    } catch(error) {\n      console.log(error);\n      updateStatusLoader.dismiss();\n      this.toastService.showToast(\"Operation Failed!\");\n    }\n  }\n\n  /**\n   * Show Modal to input expert comments\n   * @param index arrRequestIndex: Number\n   */\n  async onClickFinalOpinion(evt, index) {\n    evt.stopPropagation();\n    const commentModal = await this.modalCtrl.create({\n      component: ExpertCommentPage,\n      cssClass: \"info-modal\",\n      componentProps: {\n        title: \"Comment\",\n        placeholder: 'Please input your feedback for the request'\n      },\n      backdropDismiss: false\n    });\n    await commentModal.present();\n    try {\n      const expertReview = await commentModal.onDidDismiss();\n      if(expertReview.data !== null) {\n        this.provideExpertComment(index, expertReview.data);\n      }\n    } catch(err) {\n      console.log(err);\n    }\n  }\n\n  /**\n   * Provide expert's comment to request and set request's status as \"Completed\"\n   * @param index arrRequestIndex: Number\n   * @param str expert's comment: String\n   */\n  async provideExpertComment(index, str) {\n    const commentLoader = await this.loadingCtrl.create({\n      message: \"Please wait...\"\n    });\n    await commentLoader.present();\n    const objComment = {\n      expertsId: this.arrRequests[index].expert,\n      userId: this.arrRequests[index].user._id,\n      requestId: this.arrRequests[index]._id,\n      comment: str\n    };\n    this.apiService.provideExpertComment(objComment)\n      .subscribe(() => {\n        commentLoader.dismiss();\n        this.toastService.showToast(\"Successful!\");\n      }, error => {\n        console.log(error);\n        commentLoader.dismiss();\n        this.toastService.showToast(\"Operation Failed!\");\n      })\n  }\n\n  /**\n   * Navigate to Revied Case page\n   */\n  onClickReviewedCases() {\n    this.navCtrl.navigateForward('/reviewed-cases');\n  }\n\n  /**\n   * Navigate to landing page\n   */\n  onClickNavBack() {\n    this.navCtrl.navigateBack('/menu/landing');\n  }\n\n}\n"],"sourceRoot":""}
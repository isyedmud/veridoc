{"version":3,"sources":["webpack:///./src/app/pages/admin/admin-requests/admin-requests.module.ts","webpack:///./src/app/pages/admin/admin-requests/admin-requests.page.html","webpack:///./src/app/pages/admin/admin-requests/admin-requests.page.scss","webpack:///./src/app/pages/admin/admin-requests/admin-requests.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AAEV;AAEa;AACD;AACF;AAEvD,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,sEAAiB;KAC7B;CACF,CAAC;AAaF;IAAA;IAAsC,CAAC;IAA1B,uBAAuB;QAXnC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,+DAAW;gBACX,sEAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,sEAAiB,CAAC;SAClC,CAAC;OACW,uBAAuB,CAAG;IAAD,8BAAC;CAAA;AAAH;;;;;;;;;;;;AC7BpC,qbAAqb,eAAe,oJAAoJ,oCAAoC,gHAAgH,2BAA2B,kJAAkJ,iCAAiC,yDAAyD,kBAAkB,wDAAwD,iBAAiB,skBAAskB,eAAe,iWAAiW,mCAAmC,mNAAmN,kBAAkB,+VAA+V,mCAAmC,2JAA2J,2BAA2B,uEAAuE,kBAAkB,qiB;;;;;;;;;;;ACA75F,+BAA+B,yCAAyC,EAAE,0BAA0B,uBAAuB,EAAE,cAAc,uBAAuB,EAAE,oBAAoB,oBAAoB,sBAAsB,EAAE,0BAA0B,iBAAiB,EAAE,0BAA0B,mCAAmC,uBAAuB,4BAA4B,kBAAkB,uBAAuB,oBAAoB,EAAE,iCAAiC,kBAAkB,EAAE,mDAAmD,YAAY,EAAE,oDAAoD,YAAY,sBAAsB,EAAE,yDAAyD,uBAAuB,yBAAyB,mBAAmB,sBAAsB,EAAE,mCAAmC,kBAAkB,oBAAoB,EAAE,iCAAiC,kBAAkB,wBAAwB,EAAE,mCAAmC,yBAAyB,qBAAqB,EAAE,iCAAiC,0BAA0B,uBAAuB,mCAAmC,EAAE,mCAAmC,gBAAgB,EAAE,iDAAiD,0BAA0B,mBAAmB,EAAE,kDAAkD,yBAAyB,mBAAmB,EAAE,sCAAsC,gBAAgB,iBAAiB,8BAA8B,uBAAuB,EAAE,iCAAiC,qBAAqB,EAAE,qCAAqC,wBAAwB,EAAE,0CAA0C,0BAA0B,kCAAkC,2BAA2B,wBAAwB,qBAAqB,sCAAsC,EAAE,eAAe,8BAA8B,EAAE,eAAe,8BAA8B,EAAE,eAAe,8BAA8B,EAAE,0BAA0B,8BAA8B,EAAE,+CAA+C,+tK;;;;;;;;;;;;;;;;;;;;;;;;;;ACAxgE;AAC2C;AAC/B;AAC1B;AAC+C;AACrC;AACqB;AACmB;AAClB;AAOpE;IAiBE,2BACU,OAAsB,EACtB,WAA8B,EAC9B,UAAsB,EACtB,QAAkB,EAClB,IAAU,EACV,QAAsB,EACtB,SAA0B,EAC1B,YAA0B;QAP1B,YAAO,GAAP,OAAO,CAAe;QACtB,gBAAW,GAAX,WAAW,CAAmB;QAC9B,eAAU,GAAV,UAAU,CAAY;QACtB,aAAQ,GAAR,QAAQ,CAAU;QAClB,SAAI,GAAJ,IAAI,CAAM;QACV,aAAQ,GAAR,QAAQ,CAAc;QACtB,cAAS,GAAT,SAAS,CAAiB;QAC1B,iBAAY,GAAZ,YAAY,CAAc;QAvBpC;;WAEG;QACK,gBAAW,GAAG,EAAE,CAAC;QAEzB;;WAEG;QACK,cAAS,GAAG,iDAAM,CAAC;QAE3B;;WAEG;QACK,kBAAa,GAAG,qDAAU,CAAC;IAW/B,CAAC;IAEL,oCAAQ,GAAR;IACA,CAAC;IAED,4CAAgB,GAAhB;QACE,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IAEK,oCAAQ,GAAd;;;;;;4BACwB,qBAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;4BAClD,OAAO,EAAE,YAAY;yBACtB,CAAC;;wBAFI,aAAa,GAAG,SAEpB;wBACF,qBAAM,aAAa,CAAC,OAAO,EAAE;;wBAA7B,SAA6B,CAAC;wBAE9B,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;wBACtB,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE;6BAC7B,SAAS,CAAC,UAAC,GAAQ;4BAClB,IAAG,GAAG,CAAC,IAAI,EAAE;gCACX,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oCACvC,IAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;wCAC1B,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,mDAAI,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,IAAE,QAAQ,EAAE,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,kBAAkB,EAAE,KAAK,IAAE,CAAC;qCAC9G;iCACF;gCACD,KAAI,CAAC,WAAW,GAAG,GAAG,CAAC,IAAI,CAAC;6BAC7B;4BACD,aAAa,CAAC,OAAO,EAAE,CAAC;4BACxB,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;wBAChC,CAAC,EAAE,eAAK;4BACN,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;4BACnB,aAAa,CAAC,OAAO,EAAE,CAAC;wBAC1B,CAAC,CAAC;;;;;KACL;IAED;;;OAGG;IACH,0CAAc,GAAd,UAAe,KAAK;QAClB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC;IACvE,CAAC;IAED;;;;OAIG;IACH,kDAAsB,GAAtB,UAAuB,GAAG,EAAE,CAAC;QAC3B,GAAG,CAAC,eAAe,EAAE,CAAC;QACtB,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,gBAAgB,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC;IAC/E,CAAC;IAED;;;;;;OAMG;IACG,8CAAkB,GAAxB,UAAyB,GAAG,EAAE,QAAQ;;;;;;wBACpC,GAAG,CAAC,eAAe,EAAE,CAAC;wBAClB,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;wBAC1C,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;6BACnB,QAAQ,EAAR,wBAAQ;wBACH,YAAY,GAAuB,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;;;;wBAE9D,qBAAM,YAAY,CAAC,QAAQ,CAAC,uDAAY,GAAG,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,qBAAqB,GAAG,WAAW,GAAG,QAAQ,CAAC;;wBAA9G,SAA8G,CAAC;;;;wBAE/G,OAAO,CAAC,GAAG,CAAC,KAAG,CAAC,CAAC;;;;wBAGnB,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,QAAQ,CAAC;6BACrC,SAAS,CAAC,UAAC,IAAI;4BACd,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;4BAClB,yDAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;wBACzB,CAAC,EAAE,eAAK;4BACN,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;wBACrB,CAAC,CAAC;;;;;;KAEL;IAED;;;OAGG;IACH,gDAAoB,GAApB,UAAqB,GAAG,EAAE,UAAU;QAClC,yBAAyB;QACzB,sGAAsG;IACxG,CAAC;IAED;;;;OAIG;IACG,iDAAqB,GAA3B,UAA4B,GAAG,EAAE,KAAK;;;;;;;wBACpC,GAAG,CAAC,eAAe,EAAE,CAAC;wBACF,qBAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gCAC9C,SAAS,EAAE,8FAAkB;gCAC7B,QAAQ,EAAE,cAAc;gCACxB,eAAe,EAAE,KAAK;6BACvB,CAAC;;wBAJI,WAAW,GAAG,SAIlB;wBACF,qBAAM,WAAW,CAAC,OAAO,EAAE;;wBAA3B,SAA2B,CAAC;wBAE5B,WAAW,CAAC,YAAY,EAAE;6BACvB,IAAI,CAAC,UAAO,IAAI;;;;;6CACZ,IAAI,CAAC,IAAI,EAAT,wBAAS;wCACW,qBAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gDACjD,OAAO,EAAE,gBAAgB;6CAC1B,CAAC;;wCAFI,YAAY,GAAG,SAEnB;wCACF,qBAAM,YAAY,CAAC,OAAO,EAAE;;wCAA5B,SAA4B,CAAC;;;;wCAE3B,qBAAM,IAAI,CAAC,UAAU,CAAC,uBAAuB,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC;;wCAArF,SAAqF,CAAC;wCACtF,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;wCAC7C,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,kBAAkB,GAAG,IAAI,CAAC;wCAClD,YAAY,CAAC,OAAO,EAAE,CAAC;;;;wCAEvB,OAAO,CAAC,GAAG,CAAC,OAAK,CAAC,CAAC;wCACnB,YAAY,CAAC,OAAO,EAAE,CAAC;wCACvB,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC;;;;;6BAGtD,CAAC;6BACD,KAAK,CAAC,UAAC,KAAK;4BACX,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;4BACnB,KAAI,CAAC,YAAY,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC;wBACnD,CAAC,CAAC,CAAC;;;;;KACN;IAED;;OAEG;IACH,0CAAc,GAAd;QACE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;IAC7C,CAAC;IAhKU,iBAAiB;QAL7B,+DAAS,CAAC;YACT,QAAQ,EAAE,oBAAoB;YAC9B,gIAAyC;;SAE1C,CAAC;+EAmBmB,4DAAa;YACT,gEAAiB;YAClB,2EAAU;YACZ,uDAAQ;YACZ,2DAAI;YACA,4EAAY;YACX,8DAAe;YACZ,iFAAY;OAzBzB,iBAAiB,CAkK7B;IAAD,wBAAC;CAAA;AAlK6B","file":"admin-admin-requests-admin-requests-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AdminRequestsPage } from './admin-requests.page';\nimport { PipesModule } from 'src/app/pipes/pipes.module';\nimport { ModalModule } from '../../modal/modal.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AdminRequestsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ModalModule,\n    PipesModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AdminRequestsPage]\n})\nexport class AdminRequestsPageModule {}\n","module.exports = \"<ion-header>\\n    <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-button fill=\\\"clear\\\" (click)=\\\"onClickNavBack()\\\">\\n          <ion-icon name=\\\"arrow-back\\\"></ion-icon>\\n        </ion-button>\\n      </ion-buttons>\\n      <ion-title>All Requests</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  \\n  <ion-content>\\n    <div id=\\\"admin-requests-list\\\">\\n      <div *ngFor=\\\"let request of arrRequests; let i = index;\\\" class=\\\"admin-requests-item\\\" (click)=\\\"onClickRequest(i)\\\">\\n        <div class=\\\"admin-requests-item-header\\\">\\n          <div>\\n            {{request.createdAt | doctime: false}}\\n          </div>\\n          <div>\\n            <span [class]=\\\"'status-' + request.status\\\">\\n              {{arrStatus[request.status]}}\\n            </span>\\n          </div>\\n        </div>\\n        <div class=\\\"admin-requests-item-body\\\">\\n          <p>\\n            Category: {{arrCategories[request.category]}}\\n          </p>\\n          <p>\\n            Comments: {{request.comments}}\\n          </p>\\n          <p>\\n            Queries: {{request.queries}}\\n          </p>\\n          <ion-item lines=\\\"none\\\" (click)=\\\"onToggleViewAttachment($event, i)\\\">\\n            <ion-icon *ngIf=\\\"!request.expandattachment\\\" name=\\\"arrow-dropright\\\"></ion-icon>\\n            <ion-icon *ngIf=\\\"request.expandattachment\\\" name=\\\"arrow-dropdown\\\"></ion-icon>\\n            <ion-label>View Attachments</ion-label>\\n          </ion-item>\\n          <ion-list *ngIf=\\\"request.expandattachment\\\" no-padding>\\n            <div *ngFor=\\\"let file of request.files\\\">\\n              <p (click)=\\\"onClickAttachments($event, file.filename)\\\">\\n                {{file.filename}}\\n              </p>\\n            </div>\\n          </ion-list>\\n          <div class=\\\"admin-requests-detail\\\" *ngIf=\\\"request.expanded\\\">\\n            <!-- Initialize request -->\\n            <div class=\\\"admin-requests-detail-time\\\">\\n              <div class=\\\"admin-requests-detail-indicator status-1\\\"></div>\\n              <p>\\n                {{request.createdAt | doctime: true}}\\n              </p>\\n            </div>\\n            <div class=\\\"admin-requests-detail-main\\\">\\n              <p>\\n                Request Initialized\\n              </p>\\n              <p>\\n                {{request.comments}}\\n              </p>\\n            </div>\\n\\n            <!-- Complete request -->\\n            <ng-container *ngIf=\\\"request.status == 3 || request.status == 4\\\">\\n                <div class=\\\"admin-requests-detail-time\\\">\\n                  <div class=\\\"admin-requests-detail-indicator status-3\\\"></div>\\n                  <p>\\n                    {{request.updatedAt | doctime: true}}\\n                  </p>\\n                </div>\\n                <div class=\\\"admin-requests-detail-main\\\">\\n                  <p>\\n                    {{arrStatus[request.status]}}\\n                  </p>\\n                  <p>\\n                    {{request.comments}}\\n                  </p>\\n                </div>\\n            </ng-container>\\n          </div>\\n        </div>\\n        <div class=\\\"admin-requests-item-footer\\\">\\n          <div>\\n            <!-- <span *ngIf=\\\"request.isCategoryAssigned\\\" (click)=\\\"onClickAssignRequest($event, request)\\\">Assign To Expert</span> -->\\n            <span *ngIf=\\\"request.category == 16 && !request.isCategoryAssigned\\\" (click)=\\\"onClickAssignCategory($event, i)\\\">Assign Category</span>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </ion-content>\"","module.exports = \"ion-content {\\n  --background: var(--ion-color-light); }\\n\\nion-footer ion-title {\\n  text-align: center; }\\n\\nion-list {\\n  padding-left: 40px; }\\n\\nion-list div p {\\n    margin: 2px 0;\\n    font-size: .8em; }\\n\\n#admin-requests-list {\\n  margin: 16px; }\\n\\n.admin-requests-item {\\n  box-shadow: 0 2px 12px #dcdcdc;\\n  margin-bottom: 2vh;\\n  background-color: white;\\n  padding: 16px;\\n  border-radius: 6px;\\n  cursor: pointer; }\\n\\n.admin-requests-item-header {\\n  display: flex; }\\n\\n.admin-requests-item-header > div:first-child {\\n  flex: 2; }\\n\\n.admin-requests-item-header > div:nth-child(2) {\\n  flex: 1;\\n  text-align: right; }\\n\\n.admin-requests-item-header > div:nth-child(2) span {\\n    padding: 4px 8px;\\n    border-radius: 4px;\\n    color: white;\\n    font-size: .8em; }\\n\\n.admin-requests-item-body > p {\\n  margin: 8px 0;\\n  font-size: .9em; }\\n\\n.admin-requests-detail-time {\\n  display: flex;\\n  align-items: center; }\\n\\n.admin-requests-detail-time p {\\n    margin: 0 0 0 32px;\\n    color: #797979; }\\n\\n.admin-requests-detail-main {\\n  margin: 1px 0 0 5.5px;\\n  padding-left: 39px;\\n  border-left: 5px solid #CCCED0; }\\n\\n.admin-requests-detail-main p {\\n    margin: 0; }\\n\\n.admin-requests-detail-main > p:first-child {\\n  padding: 16px 0 8px 0;\\n  color: #505050; }\\n\\n.admin-requests-detail-main > p:nth-child(2) {\\n  padding-bottom: 16px;\\n  color: #99A2A8; }\\n\\n.admin-requests-detail-indicator {\\n  width: 16px;\\n  height: 16px;\\n  background-color: #319818;\\n  border-radius: 50%; }\\n\\n.admin-requests-item-footer {\\n  margin-top: 16px; }\\n\\n.admin-requests-item-footer div {\\n    text-align: right; }\\n\\n.admin-requests-item-footer div span {\\n      padding: 4px 12px;\\n      background-color: #2b7fea;\\n      border-radius: 4px;\\n      font-size: .8em;\\n      color: white;\\n      box-shadow: 0 2px 4px #888888; }\\n\\n.status-0 {\\n  background-color: #ff7373; }\\n\\n.status-1 {\\n  background-color: #319818; }\\n\\n.status-2 {\\n  background-color: #2b7fea; }\\n\\n.status-3, .status-4 {\\n  background-color: #F5CD82; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL0RhdGExL1dvcmtzcGFjZS9pb25pYy92ZXJpZG9jL3NyYy9hcHAvcGFnZXMvYWRtaW4vYWRtaW4tcmVxdWVzdHMvYWRtaW4tcmVxdWVzdHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksb0NBQWEsRUFBQTs7QUFHakI7RUFFUSxrQkFBa0IsRUFBQTs7QUFJMUI7RUFDSSxrQkFBa0IsRUFBQTs7QUFEdEI7SUFJWSxhQUFhO0lBQ2IsZUFBZSxFQUFBOztBQUszQjtFQUNJLFlBQVksRUFBQTs7QUFHaEI7RUFDSSw4QkFBOEI7RUFDOUIsa0JBQWtCO0VBQ2xCLHVCQUF1QjtFQUN2QixhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLGVBQWUsRUFBQTs7QUFHbkI7RUFDSSxhQUFhLEVBQUE7O0FBR2pCO0VBQ0ksT0FBTyxFQUFBOztBQUdYO0VBQ0ksT0FBTztFQUNQLGlCQUFpQixFQUFBOztBQUZyQjtJQUlRLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLGVBQWUsRUFBQTs7QUFJdkI7RUFDSSxhQUFhO0VBQ2IsZUFBZSxFQUFBOztBQUduQjtFQUNJLGFBQWE7RUFDYixtQkFBbUIsRUFBQTs7QUFGdkI7SUFJUSxrQkFBa0I7SUFDbEIsY0FBYyxFQUFBOztBQUl0QjtFQUNJLHFCQUFxQjtFQUNyQixrQkFBa0I7RUFDbEIsOEJBQThCLEVBQUE7O0FBSGxDO0lBS1EsU0FBUyxFQUFBOztBQUlqQjtFQUNJLHFCQUFxQjtFQUNyQixjQUFjLEVBQUE7O0FBR2xCO0VBQ0ksb0JBQW9CO0VBQ3BCLGNBQWMsRUFBQTs7QUFHbEI7RUFDSSxXQUFXO0VBQ1gsWUFBWTtFQUNaLHlCQUF5QjtFQUN6QixrQkFBa0IsRUFBQTs7QUFHdEI7RUFDSSxnQkFBZ0IsRUFBQTs7QUFEcEI7SUFHUSxpQkFBaUIsRUFBQTs7QUFIekI7TUFLWSxpQkFBaUI7TUFDakIseUJBQXlCO01BQ3pCLGtCQUFrQjtNQUNsQixlQUFlO01BQ2YsWUFBWTtNQUNaLDZCQUE2QixFQUFBOztBQUt6QztFQUNJLHlCQUF5QixFQUFBOztBQUc3QjtFQUNJLHlCQUF5QixFQUFBOztBQUc3QjtFQUNJLHlCQUF5QixFQUFBOztBQUc3QjtFQUNJLHlCQUF5QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYWRtaW4vYWRtaW4tcmVxdWVzdHMvYWRtaW4tcmVxdWVzdHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xuICAgIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbn1cblxuaW9uLWZvb3RlciB7XG4gICAgaW9uLXRpdGxlIHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbn1cblxuaW9uLWxpc3Qge1xuICAgIHBhZGRpbmctbGVmdDogNDBweDtcbiAgICBkaXYge1xuICAgICAgICBwIHtcbiAgICAgICAgICAgIG1hcmdpbjogMnB4IDA7XG4gICAgICAgICAgICBmb250LXNpemU6IC44ZW07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiNhZG1pbi1yZXF1ZXN0cy1saXN0IHtcbiAgICBtYXJnaW46IDE2cHg7XG59XG5cbi5hZG1pbi1yZXF1ZXN0cy1pdGVtIHtcbiAgICBib3gtc2hhZG93OiAwIDJweCAxMnB4ICNkY2RjZGM7XG4gICAgbWFyZ2luLWJvdHRvbTogMnZoO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmFkbWluLXJlcXVlc3RzLWl0ZW0taGVhZGVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xufVxuXG4uYWRtaW4tcmVxdWVzdHMtaXRlbS1oZWFkZXIgPiBkaXY6Zmlyc3QtY2hpbGQge1xuICAgIGZsZXg6IDI7XG59XG5cbi5hZG1pbi1yZXF1ZXN0cy1pdGVtLWhlYWRlciA+IGRpdjpudGgtY2hpbGQoMikge1xuICAgIGZsZXg6IDE7XG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgc3BhbiB7XG4gICAgICAgIHBhZGRpbmc6IDRweCA4cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICBmb250LXNpemU6IC44ZW07XG4gICAgfVxufVxuXG4uYWRtaW4tcmVxdWVzdHMtaXRlbS1ib2R5ID4gcCB7XG4gICAgbWFyZ2luOiA4cHggMDtcbiAgICBmb250LXNpemU6IC45ZW07XG59XG5cbi5hZG1pbi1yZXF1ZXN0cy1kZXRhaWwtdGltZSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHAge1xuICAgICAgICBtYXJnaW46IDAgMCAwIDMycHg7XG4gICAgICAgIGNvbG9yOiAjNzk3OTc5O1xuICAgIH1cbn1cblxuLmFkbWluLXJlcXVlc3RzLWRldGFpbC1tYWluIHtcbiAgICBtYXJnaW46IDFweCAwIDAgNS41cHg7XG4gICAgcGFkZGluZy1sZWZ0OiAzOXB4O1xuICAgIGJvcmRlci1sZWZ0OiA1cHggc29saWQgI0NDQ0VEMDtcbiAgICBwIHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgIH1cbn1cblxuLmFkbWluLXJlcXVlc3RzLWRldGFpbC1tYWluID4gcDpmaXJzdC1jaGlsZCB7XG4gICAgcGFkZGluZzogMTZweCAwIDhweCAwO1xuICAgIGNvbG9yOiAjNTA1MDUwO1xufVxuXG4uYWRtaW4tcmVxdWVzdHMtZGV0YWlsLW1haW4gPiBwOm50aC1jaGlsZCgyKSB7XG4gICAgcGFkZGluZy1ib3R0b206IDE2cHg7XG4gICAgY29sb3I6ICM5OUEyQTg7XG59XG5cbi5hZG1pbi1yZXF1ZXN0cy1kZXRhaWwtaW5kaWNhdG9yIHtcbiAgICB3aWR0aDogMTZweDtcbiAgICBoZWlnaHQ6IDE2cHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzMxOTgxODtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG59XG5cbi5hZG1pbi1yZXF1ZXN0cy1pdGVtLWZvb3RlciB7XG4gICAgbWFyZ2luLXRvcDogMTZweDtcbiAgICBkaXYge1xuICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICAgICAgc3BhbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiA0cHggMTJweDtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyYjdmZWE7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IC44ZW07XG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCA0cHggIzg4ODg4ODtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLnN0YXR1cy0wIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY3MzczO1xufVxuXG4uc3RhdHVzLTEge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMzMTk4MTg7XG59XG5cbi5zdGF0dXMtMiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzJiN2ZlYTtcbn1cblxuLnN0YXR1cy0zLCAuc3RhdHVzLTQge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNGNUNEODI7XG59XG5cbi8vIC5hZG1pbi1yZXF1ZXN0cy1pdGVtIHtcbiAgICAvLyBib3gtc2hhZG93OiAwIDJweCA0cHggI2IzYjNiMztcbiAgICAvLyBtYXJnaW4tYm90dG9tOiAydmg7XG4gICAgLy8gYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4vLyB9XG5cbi8vIC5hZG1pbi1yZXF1ZXN0LWl0ZW0taGVhZGVyIHtcbi8vICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzc4MGZmO1xuLy8gICAgIHAge1xuLy8gICAgICAgICBtYXJnaW46IDA7XG4vLyAgICAgICAgIHBhZGRpbmc6IDE2cHg7XG4vLyAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbi8vICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbi8vICAgICB9XG4vLyB9XG5cbi8vIC5hZG1pbi1yZXF1ZXN0LWl0ZW0tY29udGVudCB7XG4vLyAgICAgbWFyZ2luOiAxNnB4O1xuLy8gfVxuXG4vLyAuYWRtaW4tcmVxdWVzdC1pdGVtLWZvb3RlciB7XG4vLyAgICAgcGFkZGluZzogMCAxNnB4IDE2cHggMTZweDtcbi8vICAgICBwIHtcbi8vICAgICAgICAgbWFyZ2luOiAwO1xuLy8gICAgICAgICBmb250LXNpemU6IC44ZW07XG4vLyAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuLy8gICAgIH1cbi8vIH1cblxuLy8gLmFkbWluLXJlcXVlc3RzLWNvbnRyb2xsZXJzLWNvbnRhaW5lciB7XG4vLyAgICAgZGlzcGxheTogZmxleDtcbi8vICAgICBkaXYge1xuLy8gICAgICAgICBmbGV4OiAxO1xuLy8gICAgIH1cbi8vIH1cblxuLy8gaW9uLWxpc3Qge1xuLy8gICAgIG1hcmdpbi1sZWZ0OiAzMnB4O1xuLy8gfVxuXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { NavController, LoadingController, Platform, ModalController } from '@ionic/angular';\nimport { ApiService } from 'src/app/services/api/api.service';\nimport { saveAs } from 'file-saver';\nimport { FileTransfer, FileTransferObject } from '@ionic-native/file-transfer/ngx';\nimport { File } from '@ionic-native/file/ngx';\nimport { SERVERASSETS, STATUS, CATEGORIES } from '../../constants';\nimport { AssignCategoryPage } from '../../modal/assign-category/assign-category.page';\nimport { ToastService } from 'src/app/services/toast/toast.service';\n\n@Component({\n  selector: 'app-admin-requests',\n  templateUrl: './admin-requests.page.html',\n  styleUrls: ['./admin-requests.page.scss'],\n})\nexport class AdminRequestsPage implements OnInit {\n\n  /**\n   * Requests array\n   */\n  private arrRequests = [];\n\n  /**\n   * Status array\n   */\n  private arrStatus = STATUS;\n\n  /**\n   * Category array\n   */\n  private arrCategories = CATEGORIES;\n\n  constructor(\n    private navCtrl: NavController,\n    private loadingCtrl: LoadingController,\n    private apiService: ApiService,\n    private platform: Platform,\n    private file: File,\n    private transfer: FileTransfer,\n    private modalCtrl: ModalController,\n    private toastService: ToastService\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.initPage();\n  }\n\n  async initPage() {\n    const requestLoader = await this.loadingCtrl.create({\n      message: \"Loading...\"\n    });\n    await requestLoader.present();\n\n    this.arrRequests = [];\n    this.apiService.getAllRequests()\n      .subscribe((res: any) => {\n        if(res.data) {\n          for(let i = 0; i < res.data.length; i++) {\n            if(res.data[i].status == 0) {\n              this.arrRequests.push({...res.data[i], expanded: false, expandattachment: false, isCategoryAssigned: false});\n            }\n          }\n          this.arrRequests = res.data;\n        }\n        requestLoader.dismiss();\n        console.log(this.arrRequests);\n      }, error => {\n        console.log(error);\n        requestLoader.dismiss();\n      })\n  }\n\n  /**\n   * View Details of request\n   * @param index arrRequests index\n   */\n  onClickRequest(index) {\n    this.arrRequests[index].expanded = !this.arrRequests[index].expanded;\n  }\n\n  /**\n   * Toggle attachments\n   * @param evt Click Event\n   * @param i arrRequests index\n   */\n  onToggleViewAttachment(evt, i) {\n    evt.stopPropagation();\n    this.arrRequests[i].expandattachment = !this.arrRequests[i].expandattachment;\n  }\n\n  /**\n   * Check platform\n   *  if mobile: use file transfer plugin\n   *  else directly download\n   * @param evt Click Event\n   * @param filename Filename to download\n   */\n  async onClickAttachments(evt, filename) {\n    evt.stopPropagation();\n    let isMobile = this.platform.is(\"mobile\");\n    console.log(isMobile);\n    if(isMobile) {\n      const fileTransfer: FileTransferObject = this.transfer.create();\n      try {\n        await fileTransfer.download(SERVERASSETS + filename, this.file.externalRootDirectory + 'Download/' + filename);\n      } catch(err) {\n        console.log(err);\n      }\n    } else {\n      this.apiService.downloadFile(filename)\n      .subscribe((data) => {\n        console.log(data);\n        saveAs(data, filename);\n      }, error => {\n        console.log(error);\n      })\n    }\n  }\n\n  /**\n   * If the category of request is \"I don't know\", admin can select request.\n   * @param objRequest Assign request to expert\n   */\n  onClickAssignRequest(evt, objRequest) {\n    // evt.stopPropagation();\n    // this.navCtrl.navigateForward('/admin-assign-expert/' + objRequest._id + \"/\" + objRequest.category);\n  }\n\n  /**\n   * Assign category to request\n   * @param evt click event\n   * @param index index request object\n   */\n  async onClickAssignCategory(evt, index) {\n    evt.stopPropagation();\n    const assignModal = await this.modalCtrl.create({\n      component: AssignCategoryPage,\n      cssClass: 'assign-modal',\n      backdropDismiss: false\n    });\n    await assignModal.present();\n\n    assignModal.onDidDismiss()\n      .then(async (data) => {\n        if(data.data) {\n          const assignLoader = await this.loadingCtrl.create({\n            message: \"Please wait...\"\n          });\n          await assignLoader.present();\n          try {\n            await this.apiService.assignCategoryToRequest(this.arrRequests[index]._id, data.data);\n            this.arrRequests[index].category = data.data;\n            this.arrRequests[index].isCategoryAssigned = true;\n            assignLoader.dismiss();\n          } catch(error) {\n            console.log(error);\n            assignLoader.dismiss();\n            this.toastService.showToast(\"Operation failed!\");\n          }\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n        this.toastService.showToast(\"Operation failed!\");\n      });\n  }\n\n  /**\n   * Navigate to landing page\n   */\n  onClickNavBack() {\n    this.navCtrl.navigateBack('/menu/landing');\n  }\n\n}\n"],"sourceRoot":""}
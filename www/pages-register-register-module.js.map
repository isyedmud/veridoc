{"version":3,"sources":["webpack:///./src/app/pages/register/register.module.ts","webpack:///./src/app/pages/register/register.page.html","webpack:///./src/app/pages/register/register.page.scss","webpack:///./src/app/pages/register/register.page.ts"],"names":[],"mappings":"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","file":"pages-register-register-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RegisterPage } from './register.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegisterPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [RegisterPage]\n})\nexport class RegisterPageModule {}\n","module.exports = \"<ion-header no-border>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"onClickNavBack()\\\">\\n        <ion-icon name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <div id=\\\"register-page-container\\\">\\n    <p id=\\\"register-page-header\\\">Register</p>\\n    <div id=\\\"register-page-main-content\\\">\\n      <form [formGroup]=\\\"registerForm\\\">\\n        <ion-item>\\n          <ion-label>Type</ion-label>\\n          <ion-select formControlName=\\\"role\\\">\\n            <ion-select-option value=\\\"0\\\">I'm Requestor</ion-select-option>\\n            <ion-select-option value=\\\"1\\\">I'm Expert</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n      \\n        <!-- First Name -->\\n        <ion-item>\\n          <ion-input type='text' formControlName=\\\"fname\\\" placeholder=\\\"First Name\\\"></ion-input>\\n        </ion-item>\\n        <ion-item *ngIf=\\\"!registerForm.controls.fname.valid && submitAttempt\\\">\\n          <p [class.invalid]=\\\"!registerForm.controls.fname.valid && submitAttempt\\\">Please enter a First Name.</p>\\n        </ion-item>\\n      \\n        <!-- Last Name -->\\n        <ion-item>\\n          <ion-input type='text' formControlName=\\\"lname\\\" placeholder=\\\"Last Name\\\"></ion-input>\\n        </ion-item>\\n        <ion-item *ngIf=\\\"!registerForm.controls.lname.valid && submitAttempt\\\">\\n          <p [class.invalid]=\\\"!registerForm.controls.lname.valid && submitAttempt\\\">Please enter a Last Name.</p>\\n        </ion-item>\\n      \\n        <!-- Email -->\\n        <ion-item>\\n          <ion-input type='email' formControlName=\\\"email\\\" placeholder=\\\"Email\\\"></ion-input>\\n        </ion-item>\\n        <ion-item *ngIf=\\\"!registerForm.controls.email.valid && submitAttempt\\\">\\n          <p [class.invalid]=\\\"!registerForm.controls.email.valid && submitAttempt\\\">Please enter a valid Email Address.</p>\\n        </ion-item>\\n      \\n        <!-- Birthdate -->\\n        <ion-item>\\n          <ion-label>BOD</ion-label>\\n          <ion-datetime displayFormat=\\\"DD/MM/YYYY\\\" formControlName=\\\"dob\\\" pickerFormat=\\\"DD MMMM YYYY\\\"></ion-datetime>\\n        </ion-item>\\n      \\n        <!-- User Name -->\\n        <ion-item>\\n          <ion-input type=\\\"text\\\" formControlName=\\\"username\\\" placeholder=\\\"Username\\\"></ion-input>\\n        </ion-item>\\n        <ion-item *ngIf=\\\"!registerForm.controls.username.valid && submitAttempt\\\">\\n          <p [class.invalid]=\\\"!registerForm.controls.username.valid && submitAttempt\\\">Please enter a Username.</p>\\n        </ion-item>\\n      \\n        <ion-item>\\n          <ion-input type=\\\"password\\\" formControlName=\\\"password\\\" placeholder=\\\"Password\\\"></ion-input>\\n        </ion-item>\\n        <ion-item *ngIf=\\\"!registerForm.controls.password.valid && submitAttempt\\\">\\n          <p [class.invalid]=\\\"!registerForm.controls.password.valid && submitAttempt\\\">Please enter password.</p>\\n        </ion-item>\\n      \\n        <ion-item *ngIf=\\\"isExpert\\\">Bank Detail</ion-item>\\n        <ion-item *ngIf=\\\"isExpert\\\">License Documents</ion-item>\\n      </form>\\n    \\n      <p id=\\\"r-registered\\\" (click)=\\\"onClickAlreadyRegisteredBtn()\\\">\\n        Already Registered?\\n      </p>\\n    \\n      <ion-item lines=\\\"none\\\">\\n        <ion-checkbox slot=\\\"start\\\" (ionChange)=\\\"onChangeTermsAndConditions($event)\\\"></ion-checkbox>\\n        <ion-label>Accept terms and conditions</ion-label>\\n      </ion-item>\\n    \\n      <div id=\\\"r-btn-register\\\">\\n        <ion-button (click)=\\\"onClickSignupBtn()\\\">Sign Up</ion-button>\\n      </div>\\n    </div>\\n  </div>\\n</ion-content>\\n\"","module.exports = \"@media only screen and (min-width: 641px) {\\n  #register-page-container {\\n    margin: 10vh 20% 0 20%;\\n    box-shadow: 0 4px 4px #d2d2d2; }\\n  #register-page-header {\\n    background-color: #3780ff;\\n    color: white; }\\n  #register-page-main-content {\\n    padding: 16px; } }\\n\\n#register-page-header {\\n  text-align: center;\\n  font-size: 1.4em;\\n  margin: 0;\\n  padding: 16px 0; }\\n\\n#r-registered {\\n  font-size: .9em;\\n  color: #808080;\\n  text-align: center; }\\n\\n#r-btn-register {\\n  width: 100%;\\n  text-align: center;\\n  margin-top: 3vh; }\\n\\n#r-btn-register ion-button {\\n    width: 70%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL0RhdGExL1dvcmtzcGFjZS9pb25pYy92ZXJpZG9jL3NyYy9hcHAvcGFnZXMvcmVnaXN0ZXIvcmVnaXN0ZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0k7SUFDSSxzQkFBc0I7SUFDdEIsNkJBQTZCLEVBQUE7RUFHakM7SUFDSSx5QkFBeUI7SUFDekIsWUFBWSxFQUFBO0VBR2hCO0lBQ0ksYUFBYSxFQUFBLEVBQ2hCOztBQUdMO0VBQ0ksa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixTQUFTO0VBQ1QsZUFBZSxFQUFBOztBQUduQjtFQUNJLGVBQWU7RUFDZixjQUFjO0VBQ2Qsa0JBQWtCLEVBQUE7O0FBR3RCO0VBQ0ksV0FBVztFQUNYLGtCQUFrQjtFQUNsQixlQUFlLEVBQUE7O0FBSG5CO0lBS1EsVUFBVSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcmVnaXN0ZXIvcmVnaXN0ZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA2NDFweCkge1xuICAgICNyZWdpc3Rlci1wYWdlLWNvbnRhaW5lciB7XG4gICAgICAgIG1hcmdpbjogMTB2aCAyMCUgMCAyMCU7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDRweCAjZDJkMmQyO1xuICAgIH1cblxuICAgICNyZWdpc3Rlci1wYWdlLWhlYWRlciB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzNzgwZmY7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB9XG5cbiAgICAjcmVnaXN0ZXItcGFnZS1tYWluLWNvbnRlbnQge1xuICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgIH1cbn1cblxuI3JlZ2lzdGVyLXBhZ2UtaGVhZGVyIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAxLjRlbTtcbiAgICBtYXJnaW46IDA7XG4gICAgcGFkZGluZzogMTZweCAwO1xufVxuXG4jci1yZWdpc3RlcmVkIHtcbiAgICBmb250LXNpemU6IC45ZW07XG4gICAgY29sb3I6ICM4MDgwODA7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4jci1idG4tcmVnaXN0ZXIge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW4tdG9wOiAzdmg7XG4gICAgaW9uLWJ1dHRvbiB7XG4gICAgICAgIHdpZHRoOiA3MCU7XG4gICAgfVxufVxuIl19 */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { LoadingController, NavController, AlertController, Events } from '@ionic/angular';\nimport { ApiService } from 'src/app/services/api/api.service';\nimport md5 from 'md5';\nimport { ToastService } from 'src/app/services/toast/toast.service';\nimport { TERMSANDCONDITIONSTXT } from '../constants';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.page.html',\n  styleUrls: ['./register.page.scss'],\n})\nexport class RegisterPage implements OnInit {\n\n  /**\n   * Form Group Validator\n   */\n  private submitAttempt = false;\n  private registerForm: FormGroup;\n\n  private isAcceptedTerms = false;\n\n  /**\n   * terms and conditions text\n   */\n  private txtTerms = TERMSANDCONDITIONSTXT;\n\n  constructor(\n    private loadingCtrl: LoadingController,\n    private navCtrl: NavController,\n    private altCtrl: AlertController,\n    private apiService: ApiService,\n    private toastService: ToastService,\n    public formBuilder: FormBuilder,\n    private event: Events\n  ) { \n    this.registerForm = formBuilder.group({\n      email: ['', Validators.compose([Validators.pattern(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/), Validators.required])],\n      password: ['', Validators.compose([Validators.required])],\n      role: ['0'],\n      fname: ['', Validators.compose([Validators.required])],\n      lname: ['', Validators.compose([Validators.required])],\n      dob: ['1970-01-01', Validators.compose([Validators.required])],\n      username: ['', Validators.compose([Validators.required])],\n      acceptTerms: [false, Validators.compose([Validators.required])]\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  /**\n   * Signup User\n   * Call signUp method in ApiService\n   */\n  async onClickSignupBtn() {\n    this.submitAttempt = true;\n    \n    if(this.isAcceptedTerms == false) {\n      this.toastService.showToast(\"Please accept our Terms and Conditions!\");\n      return;\n    }\n    if(this.registerForm.valid) {\n      let reqData = {\n        email: this.registerForm.controls.email.value,\n        role: Number(this.registerForm.controls.role.value),\n        fname: this.registerForm.controls.fname.value,\n        lname: this.registerForm.controls.lname.value,\n        birthday: this.registerForm.controls.dob.value,\n        username: this.registerForm.controls.username.value,\n        password: md5(this.registerForm.controls.password.value),\n        isverified: false,\n      };\n      const signupLoader = await this.loadingCtrl.create({\n        message: \"Please wait...\"\n      });\n      await signupLoader.present();\n      this.apiService.signUp(reqData)\n        .subscribe((res: any) => {\n          signupLoader.dismiss();\n          this.toastService.showToast(\"Successfully Registered!\");\n          localStorage.setItem(\"isLoggedIn\", 'true');\n          localStorage.setItem(\"uid\", res.user._id);\n          localStorage.setItem(\"role\", res.user.role);\n          this.event.publish(\"onLoginStatusChange\");\n          this.navCtrl.navigateRoot('/menu/landing');\n        }, (error: any) => {\n          console.log(error);\n          signupLoader.dismiss();\n          if(error.error.message) {\n            this.toastService.showToast(error.error.message);\n          } else {\n            this.toastService.showToast(error.error.err.errors.email.message);\n          }\n        });\n    }\n  }\n\n  /**\n   * Navigate to login page\n   */\n  onClickAlreadyRegisteredBtn() {\n    this.navCtrl.navigateForward('/login');\n  }\n\n  /**\n   * Show Terms and Conditions\n   */\n  async onChangeTermsAndConditions(evt) {\n    this.isAcceptedTerms = evt.detail.checked;\n    if(this.isAcceptedTerms == true) {\n      const termsAlt = await this.altCtrl.create({\n        header: \"Terms and Conditions\",\n        message: this.txtTerms,\n        buttons: ['OK']\n      });\n      await termsAlt.present();\n    }\n  }\n\n  onClickNavBack() {\n    this.navCtrl.navigateBack('/menu/landing');\n  }\n\n}\n"],"sourceRoot":""}
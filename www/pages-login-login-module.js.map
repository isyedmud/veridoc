{"version":3,"sources":["webpack:///./src/app/pages/login/login.module.ts","webpack:///./src/app/pages/login/login.page.html","webpack:///./src/app/pages/login/login.page.scss","webpack:///./src/app/pages/login/login.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACM;AACE;AAEV;AAEJ;AAEzC,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,qDAAS;KACrB;CACF,CAAC;AAWF;IAAA;IAA8B,CAAC;IAAlB,eAAe;QAT3B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,kEAAmB;gBACnB,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,qDAAS,CAAC;SAC1B,CAAC;OACW,eAAe,CAAG;IAAD,sBAAC;CAAA;AAAH;;;;;;;;;;;;ACzB5B,szD;;;;;;;;;;;ACAA,wCAAwC,oBAAoB,EAAE,8BAA8B,yBAAyB,kBAAkB,yBAAyB,EAAE,yCAAyC,mBAAmB,EAAE,yBAAyB,yCAAyC,EAAE,8BAA8B,kBAAkB,kBAAkB,EAAE,kCAAkC,cAAc,EAAE,iCAAiC,oBAAoB,mBAAmB,uBAAuB,EAAE,mBAAmB,qBAAqB,EAAE,kBAAkB,sBAAsB,EAAE,+CAA+C,u3C;;;;;;;;;;;;;;;;;;;;;;;;ACA5kB;AACkB;AACiC;AAC1C;AACrC;AACwC;AACM;AAOpE;IASE,mBACU,OAAwB,EACxB,WAA8B,EAC9B,UAAsB,EACtB,YAA0B,EAC1B,OAAsB,EACtB,UAAsB,EACtB,QAAkB,EACnB,WAAwB,EACvB,KAAa;QARb,YAAO,GAAP,OAAO,CAAiB;QACxB,gBAAW,GAAX,WAAW,CAAmB;QAC9B,eAAU,GAAV,UAAU,CAAY;QACtB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,YAAO,GAAP,OAAO,CAAe;QACtB,eAAU,GAAV,UAAU,CAAY;QACtB,aAAQ,GAAR,QAAQ,CAAU;QACnB,gBAAW,GAAX,WAAW,CAAa;QACvB,UAAK,GAAL,KAAK,CAAQ;QAhBf,kBAAa,GAAG,KAAK,CAAC;QAkB5B;;WAEG;QACH,IAAI,CAAC,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC;YACjC,KAAK,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,OAAO,CAAC,yJAAyJ,CAAC,EAAE,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YACrO,QAAQ,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;SAC1D,CAAC,CAAC;IACL,CAAC;IAED,4BAAQ,GAAR;IACA,CAAC;IAED;;OAEG;IACG,oCAAgB,GAAtB;;;;;;4BACoB,qBAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;4BAC1C,MAAM,EAAE,kBAAkB;4BAC1B,MAAM,EAAE;gCACN;oCACE,IAAI,EAAE,OAAO;oCACb,IAAI,EAAE,OAAO;oCACb,WAAW,EAAE,eAAe;iCAC7B;6BACF;4BACD,OAAO,EAAE;gCACP;oCACE,IAAI,EAAE,QAAQ;oCACd,IAAI,EAAE,QAAQ;oCACd,QAAQ,EAAE,WAAW;oCACrB,OAAO,EAAE;oCAET,CAAC;iCACF,EAAE;oCACD,IAAI,EAAE,IAAI;oCACV,OAAO,EAAE,UAAC,IAAI;wCACZ,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oCACjC,CAAC;iCACF;6BACF;yBACF,CAAC;;wBAxBI,SAAS,GAAG,SAwBhB;wBACF,SAAS,CAAC,OAAO,EAAE,CAAC;;;;;KACrB;IAEK,iCAAa,GAAnB,UAAoB,KAAK;;;;;;4BACA,qBAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;4BACnD,OAAO,EAAE,eAAe;yBACzB,CAAC;;wBAFI,cAAc,GAAG,SAErB;wBACF,qBAAM,cAAc,CAAC,OAAO,EAAE;;wBAA9B,SAA8B,CAAC;wBAC/B,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC;6BACjC,SAAS,CAAC;4BACT,cAAc,CAAC,OAAO,EAAE,CAAC;4BACzB,KAAI,CAAC,YAAY,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC;wBACnD,CAAC,EAAE,eAAK;4BACN,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;4BACnB,cAAc,CAAC,OAAO,EAAE,CAAC;wBAC3B,CAAC,CAAC,CAAC;;;;;KACN;IAED;;OAEG;IACG,gCAAY,GAAlB;;;;;;;wBACE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;6BACvB,IAAI,CAAC,SAAS,CAAC,KAAK,EAApB,wBAAoB;wBACD,qBAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gCAChD,OAAO,EAAE,gBAAgB;6BAC1B,CAAC;;wBAFI,gBAAc,SAElB;wBACF,qBAAM,aAAW,CAAC,OAAO,EAAE;;wBAA3B,SAA2B,CAAC;wBACtB,UAAU,GAAG;4BACjB,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK;4BAC1C,QAAQ,EAAE,0CAAG,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC;yBACtD,CAAC;wBACF,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,UAAU,CAAC;6BAC9B,SAAS,CAAC,cAAI;4BACb,aAAW,CAAC,OAAO,EAAE,CAAC;4BACtB,KAAI,CAAC,YAAY,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC;4BACjD,YAAY,CAAC,OAAO,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;4BAC3C,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC;4BAC1C,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;wBAC7C,CAAC,EAAE,eAAK;4BACN,aAAW,CAAC,OAAO,EAAE,CAAC;4BACtB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;4BACnB,KAAI,CAAC,YAAY,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;wBACnD,CAAC,CAAC,CAAC;;;;;;KAER;IAED;;OAEG;IACH,kCAAc,GAAd;IAEA,CAAC;IAED;;;;;OAKG;IACG,qCAAiB,GAAvB;;;;;;4BACsB,qBAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;4BAChD,OAAO,EAAE,gBAAgB;yBAC1B,CAAC;;wBAFI,WAAW,GAAG,SAElB;wBACF,qBAAM,WAAW,CAAC,OAAO,EAAE;;wBAA3B,SAA2B,CAAC;;;;wBAEb,qBAAM,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC;;wBAAtC,IAAI,GAAG,SAA+B;wBACtC,QAAQ,GAAG;4BACf,QAAQ,EAAE,EAAE;4BACZ,QAAQ,EAAE,EAAE;4BACZ,IAAI,EAAE,CAAC;4BACP,KAAK,EAAE,IAAI,CAAC,KAAK;4BACjB,KAAK,EAAE,IAAI,CAAC,SAAS;4BACrB,KAAK,EAAE,IAAI,CAAC,UAAU;4BACtB,QAAQ,EAAE,EAAE;yBACb,CAAC;wBACF,YAAY,CAAC,OAAO,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;wBAC3C,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC;6BAC7B,SAAS,CAAC;4BACT,WAAW,CAAC,OAAO,EAAE,CAAC;4BACtB,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC;4BAC1C,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;wBAC7C,CAAC,EAAE,eAAK;4BACN,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;4BACnB,WAAW,CAAC,OAAO,EAAE,CAAC;wBACxB,CAAC,CAAC,CAAC;;;;wBAEL,OAAO,CAAC,GAAG,CAAC,KAAG,CAAC,CAAC;wBACjB,WAAW,CAAC,OAAO,EAAE,CAAC;;;;;;KAEzB;IAED;;OAEG;IACH,iCAAa,GAAb;QACE,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;IAC5C,CAAC;IA9JU,SAAS;QALrB,+DAAS,CAAC;YACT,QAAQ,EAAE,WAAW;YACrB,+FAAgC;;SAEjC,CAAC;+EAWmB,8DAAe;YACX,gEAAiB;YAClB,2EAAU;YACR,iFAAY;YACjB,4DAAa;YACV,wEAAU;YACZ,uDAAQ;YACN,0DAAW;YAChB,qDAAM;OAlBZ,SAAS,CAgKrB;IAAD,gBAAC;CAAA;AAhKqB","file":"pages-login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","module.exports = \"<ion-header no-border>\\n  <ion-toolbar>\\n    <ion-title>Login</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <form [formGroup]=\\\"loginForm\\\">\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">\\n        Email\\n      </ion-label>\\n      <ion-input type=\\\"email\\\" formControlName=\\\"email\\\"></ion-input>\\n    </ion-item>\\n\\n    <ion-item *ngIf=\\\"!loginForm.controls.email.valid && submitAttempt\\\">\\n      <p [class.invalid]=\\\"!loginForm.controls.email.valid && submitAttempt\\\">Please enter a valid Email Address.</p>\\n    </ion-item>\\n  \\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">\\n        Password\\n      </ion-label>\\n      <ion-input type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n    </ion-item>\\n\\n    <ion-item *ngIf=\\\"!loginForm.controls.password.valid && submitAttempt\\\">\\n      <p [class.invalid]=\\\"!loginForm.controls.password.valid && submitAttempt\\\">Please enter a Password.</p>\\n    </ion-item>\\n  </form>\\n\\n  <div id=\\\"l-forgotornew-container\\\">\\n    <div>\\n      <p id=\\\"l-newaccount\\\" (click)=\\\"onClickForgotpwd()\\\">Forgot Password?</p>\\n    </div>\\n    <div>\\n      <p id=\\\"l-forgotpwd\\\" (click)=\\\"onClickSignup()\\\">Signup?</p>\\n    </div>\\n  </div>\\n\\n  <div id=\\\"login-btn-container\\\">\\n    <div id=\\\"l-btnlogin\\\">\\n      <ion-button (click)=\\\"onClickLogin()\\\">Login</ion-button>\\n    </div>\\n    <div id=\\\"l-btnfb\\\">\\n      <ion-button (click)=\\\"onClickFBLogin()\\\">\\n        <ion-icon name=\\\"logo-facebook\\\"></ion-icon>\\n        <ion-label>Facebook</ion-label>\\n      </ion-button>\\n    </div>\\n    <div id=\\\"l-btngplus\\\">\\n      <ion-button color=\\\"danger\\\" (click)=\\\"onClickGPlusLogin()\\\">\\n        <ion-icon name=\\\"logo-googleplus\\\"></ion-icon>\\n        <ion-label>Google Plus</ion-label>\\n      </ion-button>\\n    </div>\\n  </div>\\n</ion-content>\\n\"","module.exports = \"#login-btn-container {\\n  margin-top: 2vh; }\\n  #login-btn-container div {\\n    margin-bottom: 2vh;\\n    width: 100%;\\n    text-align: center; }\\n  #login-btn-container div ion-button {\\n      width: 70%; }\\n  #l-btnfb ion-button {\\n  --background: var(--ion-color-fbbtn); }\\n  #l-forgotornew-container {\\n  display: flex;\\n  padding: 16px; }\\n  #l-forgotornew-container div {\\n    flex: 1; }\\n  #l-forgotpwd, #l-newaccount {\\n  font-size: .9em;\\n  color: #808080;\\n  text-align: center; }\\n  #l-newaccount {\\n  text-align: left; }\\n  #l-forgotpwd {\\n  text-align: right; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL0RhdGExL1dvcmtzcGFjZS9pb25pYy92ZXJpZG9jL3NyYy9hcHAvcGFnZXMvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0ksZUFBZSxFQUFBO0VBRG5CO0lBR1Esa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxrQkFBa0IsRUFBQTtFQUwxQjtNQU9ZLFVBQVUsRUFBQTtFQUt0QjtFQUVRLG9DQUFhLEVBQUE7RUFJckI7RUFDSSxhQUFhO0VBQ2IsYUFBYSxFQUFBO0VBRmpCO0lBSVEsT0FBTyxFQUFBO0VBSWY7RUFDSSxlQUFlO0VBQ2YsY0FBYztFQUNkLGtCQUFrQixFQUFBO0VBR3RCO0VBQ0ksZ0JBQWdCLEVBQUE7RUFHcEI7RUFDSSxpQkFBaUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuI2xvZ2luLWJ0bi1jb250YWluZXIge1xuICAgIG1hcmdpbi10b3A6IDJ2aDtcbiAgICBkaXYge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAydmg7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIGlvbi1idXR0b24ge1xuICAgICAgICAgICAgd2lkdGg6IDcwJTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuI2wtYnRuZmIge1xuICAgIGlvbi1idXR0b24ge1xuICAgICAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1mYmJ0bik7XG4gICAgfVxufVxuXG4jbC1mb3Jnb3Rvcm5ldy1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgcGFkZGluZzogMTZweDtcbiAgICBkaXYge1xuICAgICAgICBmbGV4OiAxO1xuICAgIH1cbn1cblxuI2wtZm9yZ290cHdkLCAjbC1uZXdhY2NvdW50IHtcbiAgICBmb250LXNpemU6IC45ZW07XG4gICAgY29sb3I6ICM4MDgwODA7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4jbC1uZXdhY2NvdW50IHtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuXG4jbC1mb3Jnb3Rwd2Qge1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AlertController, LoadingController, NavController, Platform, Events } from '@ionic/angular';\nimport { GooglePlus } from '@ionic-native/google-plus/ngx';\nimport md5 from 'md5';\nimport { ApiService } from 'src/app/services/api/api.service';\nimport { ToastService } from 'src/app/services/toast/toast.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  private submitAttempt = false;\n\n  /**\n   * Form Group Validator\n   */\n  public loginForm: FormGroup;\n\n  constructor(\n    private altCtrl: AlertController,\n    private loadingCtrl: LoadingController,\n    private apiService: ApiService,\n    private toastService: ToastService,\n    private navCtrl: NavController,\n    private googlePlus: GooglePlus,\n    private platform: Platform,\n    public formBuilder: FormBuilder,\n    private event: Events\n  ) { \n    /**\n     * Validate Form input fields.\n     */\n    this.loginForm = formBuilder.group({\n      email: ['', Validators.compose([Validators.pattern(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/), Validators.required])],\n      password: ['', Validators.compose([Validators.required])]\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  /**\n   * Show Forgot password Dialog\n   */\n  async onClickForgotpwd() {\n    const forgotAlt = await this.altCtrl.create({\n      header: \"Forgot Password?\",\n      inputs: [\n        {\n          name: 'value',\n          type: 'email',\n          placeholder: 'Email Address'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => {\n            \n          }\n        }, {\n          text: 'Ok',\n          handler: (data) => {\n            this.resetPassword(data.value);\n          }\n        }\n      ]\n    });\n    forgotAlt.present();\n  }\n\n  async resetPassword(email) {\n    const resetPwdLoader = await this.loadingCtrl.create({\n      message: \"Please wait..\"\n    });\n    await resetPwdLoader.present();\n    this.apiService.resetPassword(email)\n      .subscribe(() => {\n        resetPwdLoader.dismiss();\n        this.toastService.showToast(\"Password is reset\");\n      }, error => {\n        console.log(error);\n        resetPwdLoader.dismiss();\n      });\n  }\n\n  /**\n   * Login User\n   */\n  async onClickLogin() {\n    this.submitAttempt = true;\n    if(this.loginForm.valid) {\n      const loginLoader = await this.loadingCtrl.create({\n        message: \"Please wait...\"\n      });\n      await loginLoader.present();\n      const credential = {\n        email: this.loginForm.controls.email.value,\n        password: md5(this.loginForm.controls.password.value)\n      };\n      this.apiService.login(credential)\n        .subscribe(data => {\n          loginLoader.dismiss();\n          this.toastService.showToast(\"Login Successful!\");\n          localStorage.setItem(\"isLoggedIn\", 'true');\n          this.event.publish(\"onLoginStatusChange\");\n          this.navCtrl.navigateRoot('/menu/landing');\n        }, error => {\n          loginLoader.dismiss();\n          console.log(error);\n          this.toastService.showToast(error.error.message);\n        });\n    }\n  }\n\n  /**\n   * Facebook Login\n   */\n  onClickFBLogin() {\n\n  }\n\n  /**\n   * Google Plus Login\n   * It checks the platform and use appropriate plugin\n   * for mobile: Cordova plugin\n   * for website: pure javascript\n   */\n  async onClickGPlusLogin() {\n    const gplusLoader = await this.loadingCtrl.create({\n      message: \"Please wait...\"\n    });\n    await gplusLoader.present();\n    try {\n      const user = await this.googlePlus.login({});\n      const userInfo = {\n        username: \"\",\n        password: \"\",\n        role: 0,\n        email: user.email,\n        fname: user.givenName,\n        lname: user.familyName,\n        birthday: \"\"\n      };\n      localStorage.setItem(\"isLoggedIn\", 'true');\n      this.apiService.signUp(userInfo)\n        .subscribe(() => {\n          gplusLoader.dismiss();\n          this.event.publish(\"onLoginStatusChange\");\n          this.navCtrl.navigateRoot('/menu/landing');\n        }, error => {\n          console.log(error);\n          gplusLoader.dismiss();\n        });\n    } catch(err) {\n      console.log(err);\n      gplusLoader.dismiss();\n    }\n  }\n\n  /**\n   * Navigate to signup page\n   */\n  onClickSignup() {\n    this.navCtrl.navigateForward('/register');\n  }\n\n}\n"],"sourceRoot":""}